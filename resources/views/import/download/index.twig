{% extends "./layout/default" %}
{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                &nbsp;
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <h1>{{ mainTitle }}</h1>
                <h2>{{ subTitle }}</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="alert alert-danger" role="alert">
                    ⚠️ Active maintenance on the Firefly III bunq importer <strong>has stopped</strong> per January 1st, 2022.
                    <a href="https://github.com/firefly-iii/firefly-iii/issues/5161" class="alert-link" target="_blank">Read more in the announcement</a>
                </div>
                <p>
                    <small>If the importer seems stuck,
                        <a href="{{ route('flush') }}" class="text-danger">you can reset it</a>.</small>
                </p>
            </div>
        </div>
        <div id="app">
            <download-status></download-status>
        </div>
    </div>
{% endblock %}
{% block scripts %}
    <script type="text/javascript">
        var downloadStatusUrl = '{{ route('import.download.status') }}?downloadIdentifier={{ downloadIdentifier }}';
        var downloadStartUrl = '{{ route('import.download.start') }}?downloadIdentifier={{ downloadIdentifier }}';
        var mappingUrl = '{{ route('import.mapping.index') }}';
        var flushUrl = '{{ route('flush') }}';
    </script>
    <script src="js/download.js" type="text/javascript"></script>
{% endblock %}
